<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>xlUtil_go</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1 class="libTop">xlUtil_go</h1>

<p>Utilities useful or necessary for the
<a href="https://jddixon.github.iio/xlattice_go">xlattice_go</a>
project.  These currently include</p>

<ul>
<li><strong>BitMap64</strong>, functions for creating and manipulating 64-bit bit maps</li>
<li><strong>DecimalVersion</strong>, a class supporting the representation of version
numbers for XLattice project components</li>
<li><strong>entityName</strong>, functions specifying what is or is not a valid XLattice name</li>
<li><strong>lfs</strong>, functions standardizing the handling of the <strong>local file system</strong></li>
<li><strong>math</strong>, routines returning the next power of 2 and the exponent of the
next power of 2</li>
<li><strong>MerkleTree</strong>, a standard way of representing a directory structure
in terms of file names and content hashes</li>
<li><strong>NLHTree</strong>, a somewhat simpler way of representing directory structures
and files</li>
<li><strong>popCount</strong>, 32- and 64-bit versions of the SWAR algorithm used for
counting the number of bits set in a machine word</li>
<li><strong>TimeStamp</strong>, the XLattice standard form for a timestamp</li>
</ul>

<h2>BitMap64</h2>

<p>As the term is used here, a <code>bitmap</code> is an array of bits, specifically
a 64-bit word, where the bit being set (having a value of 1) means that
something of interest is present whereas the bit being clear (having a
value of 0) means that it is absent.</p>

<pre><code>type BitMap64 struct {
    Bits uint64
}

func NewBitMap64(bits uint64) (bm *BitMap64)

// An array of a bit maps with the low order N bits set.
// In a better world this would be a constant.
var lowNMap = [...]uint64

// Returns a bit map with the low order N bits set.  If N is 0, the map
// is empty - that is, no bits are set.
func LowNMap(n uint) (bm *BitMap64)

// Return true if all bits are set
func (bm *BitMap64) All() bool

// Return true if any bits are set
func (bm *BitMap64) Any() bool

// Clear bit N, setting it to zero.
func (bm *BitMap64) Clear(n uint) *BitMap64

// Set the low order N bits to zero.
func (bm *BitMap64) ClearLowN(n uint) *BitMap64

// Return a clone of this bit map.
func (bm *BitMap64) Clone() *BitMap64

// Returns a bit map in which all of the bits in this map have been flipped.
func (bm *BitMap64) Complement() *BitMap64

// Returns a count of the bits set (that is, equal to 1) in the bit map.
func (bm *BitMap64) Count() uint

// Returns the difference between two bit maps.
func (bm *BitMap64) Difference(other *BitMap64) *BitMap64

// Whether 'other' is a bit map and has the same bits set.
func (bm *BitMap64) Equal(any interface{}) bool

// Flip the Nth bit in the map, where 0 &lt;= n &lt;= 63
func (bm *BitMap64) Flip(n uint) *BitMap64

// Return the intersection of the two bit maps -- that is, a map
// in which all of the bits set in both input sets are set.
func (bm *BitMap64) Intersection(other *BitMap64) *BitMap64

// Return whether none of the bits in the map is set.
func (bm *BitMap64) None() bool

// Return a map identical to this one except that the Nth bit is set.
func (bm *BitMap64) Set(n uint) *BitMap64

// Return a map which is the XOR of the two inputs.
func (bm *BitMap64) SymmetricDifference(other *BitMap64) *BitMap64

// Test the Nth bit in the map
func (bm *BitMap64) Test(n uint) bool

// Return a map which is the union of the two inputs -- that is,
// where all of the bits which are set in either of the two inputs
// is set in the output.
func (bm *BitMap64) Union(other *BitMap64) *BitMap64
</code></pre>

<h2>DecimalVersion</h2>

<p>These functions translate unsigned 32-bit integers to and from the
string serialization used by XLattice for version numbers.</p>

<pre><code>type DecimalVersion uint32

func New(a, b, c, d uint) (dv DecimalVersion) 

// Interpret a byte slice as a big-endian uint.
func VersionFromBytes(b []byte) (dv DecimalVersion, err error)

// Convert a uint32 DecimalVersion to string format.
func (dv DecimalVersion) String() (s string)

// Convert a string like a.b.c.d back to a uint32 DecimalVersion.  At
// least one digit must be present.
func ParseDecimalVersion(s string) (dv DecimalVersion, err error) 
</code></pre>

<h2>EntityName</h2>

<p>Functions concerned with defining whether a sequence of charactrs
is or is not a valid XLattice name.</p>

<pre><code>func ValidEntityName(name string) (err error)
func NAME_PAT() string
func NAME_RE() *regexp.Regexp
func INVALID_NAME() error
</code></pre>

<h2>LFS</h2>

<p>Convenience functions for dealing with the local file system.</p>

<pre><code>// If the directory named does not exist, create it.  The permisssions
// passed are ORed with 0700.  If the directory name is empty, call it
// &quot;lfs&quot;, that is, ./lfs/
//
// If the directory named exists, permissions are not inspected.

func CheckLFS(lfs string, perm os.FileMode) (err error) 

// Given a path to a file, create any missing intermediate directories.
func MkdirsToFile(pathToFile string, perm os.FileMode) (err error) 
</code></pre>

<h2>Math</h2>

<pre><code>// Return the smallest non-negative integer exp where 2^exp is
// greater than or equal to n.
func NextExp2_32(n uint32) (exp int) 

// Return the smallest non-negative integer exp where 2^exp is
// greater than or equal to n.
func NextExp2_64(n uint64) (exp int) 

// Return the smallest 32-bit number k which is a power of two and greater
// than // or equal to n.
func NextPow2_32(n uint32) (k uint32) 

// Return the smallest 64-bit number k which is a power of two and greater
// than or equal to n.
func NextPow2_64(n uint64) (k uint64) 
</code></pre>

<h3>MerkleTree</h3>

<p>For further information on this package click
<a href="https://jddixon.github.io/xlUtil_go/merkletree.html">here</a></p>

<h3>NLHTree</h3>

<p>For further information on this package click
<a href="https://jddixon.github.io/xlUtil_go/nlhtree.html">here</a></p>

<h3>popCount</h3>

<p>This is an implementation in software of <code>popCount</code> (also called <code>CTPOP</code>)
which on more
modern machine architectures is a machine instruction for counting
the number of bits set in a word.</p>

<h3>Timestamp</h3>

<pre><code>/**
 * Convenience class handling YYYY-MM-DD HH:MM:SS formatted dates.
 */
type Timestamp int64

func (t Timestamp) String() (x string) 

func ParseTimestamp(s string) (t Timestamp, err error) 
</code></pre>

<h2>Project Status</h2>

<p>Except as noted above, the code in this project is stable and well-tested.</p>

<h2>Licensing</h2>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />The material on this github.io website is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
<p>Project software is licensed under an MIT license.
Follow the SOFTWARE LICENSE link below for more information on project software licensing.</p>  <div class="f">
    <hr />
    <div class="license">
      <p><a href="LICENSE.html">SOFTWARE LICENSE</a></p>
    </div>
    <div class="project">
      github <a href="https://github.com/jddixon/xlUtil_go">      <img src="img/GitHub-Mark-32px.png" 
        alt="link to project"  
        style="display: inline-block; margin-left: 0 auto; margin-right: 0 auto">
       </a> project
    </div>
    <div class="logo" >
      <a href="http://www.xlattice.org">
      <img src="img/xlattice-2014.jpg" alt="the XLattice Project" style="float: right;" >
      </a>
    </div>
  </div>
</div>
</body>
</html>
